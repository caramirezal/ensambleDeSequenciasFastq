#!/usr/bin/nev nextflow


path0 = "/home/carlos/scripts/ensambleDeSequenciasFastq/"
path1 = "/home/carlos/scripts/ensambleDeSequenciasFastq/data/Illumina1.fq.gz"
path2 = "/home/carlos/scripts/ensambleDeSequenciasFastq/data/Illumina2.fq.gz"

process fastq_assembly {

"""

## Quality reports
#perl $path0/FaQCs/FaQCs.pl -p $path1 $path2 -d $path0/qreports/ -qc_only
# Optional
#Rscript pipeLine.R

## Processing sequences
## Removing:
## i) Illumina truSeq adaptors
## ii) reads < 36 nt
## iii) reads having N values
#cutadapt \
#             -a AGATCGGAAGAGCACACGTCTGAACTCCAGTCAC \
#             -A AGATCGGAAGAGCGTCGTGTAGGGAAAGAGTGTAGATCTCGGTGGTCGCCGTATCATT \
#             -o $path0/filteredData/Illumina1_filt.fastq -p $path0/#filteredData/Illumina2_filt.fastq  \
#             $path0/data/Illumina1.fq.gz $path0/data/Illumina2.fq.gz  \
#             -m 36 \
#             --max-n 1  > $path0/filteredData/filt_report.txt

cd $path0/alignments
abyss-pe name=assignment k=36 in='$path0/filteredData/Illumina1_filt.fastq $path0/filteredData/Illumina2_filt.fastq' 
cd ..

	"""
}
